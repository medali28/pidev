{#<!doctype html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport"#}
{#          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">#}
{#    <meta http-equiv="X-UA-Compatible" content="ie=edge">#}
{#    <title>Document</title>#}
{#</head>#}
{#<body>#}
{#<h1>create account</h1>#}

{#{{ form_start(form ,{attr:{novalidate:'novalidate'}}) }}#}
{#{{ form_widget(form.image)}}#}
{#{{ form_errors(form.image) }}<br>#}
{#<label for="inputText" class="" >Email</label>#}
{#{{ form_widget(form.email) }}#}
{#{{ form_errors(form.email) }}<br>#}
{#<label for="inputText" class="" >First Name</label>#}
{#{{ form_widget(form.first_name) }}#}
{#{{ form_errors(form.first_name) }}<br>#}
{#<label for="inputText" class="" >Last Name</label>#}
{#{{ form_widget(form.last_name) }}#}
{#{{ form_errors(form.last_name) }}<br>#}
{#<label for="inputText" class="" >Gender</label>#}
{#{{ form_widget(form.gender) }}#}
{#{{ form_errors(form.gender) }}<br>#}
{#<label for="inputText" class="" >Telphone</label>#}
{#{{ form_widget(form.num_tel) }}#}
{#{{ form_errors(form.num_tel) }}<br>#}
{#<label for="inputText" class="" >Role</label>#}
{#{{ form_widget(form.role) }}#}
{#{{ form_errors(form.role) }}<br>#}
{#<label for="inputText" class="" >Adress</label>#}
{#{{ form_widget(form.address) }}#}
{#{{ form_errors(form.address) }}<br>#}
{#{{ form_end(form) }}#}



{#</body>#}
{#</html>#}
{% extends 'user/profilebase.html.twig' %}
{% block body %}

    <main  class="main-content position-relative border-radius-lg ">

        <div class="card shadow-lg mx-4 card-profile-bottom">
            <div class="card-body p-3">
                <div class="row gx-4">
                    <div class="col-auto">
                        <div class="avatar avatar-xl position-relative">
{#                            <label>{{ user.image }}</label>#}
                            <img src="{{ asset('profile/images/' ~ user.image) }}" alt="profile_image" class="w-100 border-radius-lg shadow-sm">
                        </div>
                    </div>
                    <div class="col-auto my-auto">
                        <div class="h-100">
                            <h5 class="mb-1">
                                {{ user.lastName ~ ' ' ~ user.firstName }}
                            </h5>
                            <p class="mb-0 font-weight-bold text-sm">
                                {{ user.address }}
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 my-sm-auto ms-sm-auto me-sm-0 mx-auto mt-3">
                        <div class="nav-wrapper position-relative end-0">
                            <ul class="nav nav-pills nav-fill p-1" role="tablist">
                                <li class="nav-item">
                                    <button id="{{ user.id }}" class="nav-link mb-0 px-0 py-1 active d-flex align-items-center justify-content-center " data-bs-toggle="tab" role="tab" aria-selected="true">
                                        <i class="fas fa-trash"></i>
                                        <span class="ms-2">Remove Account</span>
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link mb-0 px-0 py-1 d-flex align-items-center justify-content-center " data-bs-toggle="tab" href="javascript:;" role="tab" aria-selected="false">
                                        <i class="ni ni-email-83"></i>
                                        <span class="ms-2">Messages</span>
                                    </a>
                                </li>
{#                                <li class="nav-item">#}
{#                                    <a class="nav-link mb-0 px-0 py-1 d-flex align-items-center justify-content-center " data-bs-toggle="tab" href="javascript:;" role="tab" aria-selected="false">#}
{#                                        <i class="ni ni-settings-gear-65"></i>#}
{#                                        <span class="ms-2">Settings</span>#}
{#                                    </a>#}
{#                                </li>#}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid py-4">
            <div class="row">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header pb-0">
                            <div class="d-flex align-items-center">
                                <p class="mb-0">Edit Profile</p>
                            </div>
                        </div>
                        <div class="card-body">
                            <p class="text-uppercase text-sm">User Information</p>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">Username</label>
                                        <input class="form-control" type="text" value="lucky.jesse">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">Email address</label>
                                        <input class="form-control" type="email" value="jesse@example.com">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">First name</label>
                                        <input class="form-control" type="text" value="Jesse">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">Last name</label>
                                        <input class="form-control" type="text" value="Lucky">
                                    </div>
                                </div>
                            </div>
                            <hr class="horizontal dark">
                            <p class="text-uppercase text-sm">Contact Information</p>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">Address</label>
                                        <input class="form-control" type="text" value="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">City</label>
                                        <input class="form-control" type="text" value="New York">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">Country</label>
                                        <input class="form-control" type="text" value="United States">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">Postal code</label>
                                        <input class="form-control" type="text" value="437300">
                                    </div>
                                </div>
                            </div>
                            <hr class="horizontal dark">
                            <p class="text-uppercase text-sm">About me</p>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="example-text-input" class="form-control-label">About me</label>
                                        <input class="form-control" type="text" value="A beautiful Dashboard for Bootstrap 5. It is Free and Open Source.">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary btn-sm ms-auto">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="{{ asset('/js/argon-dashboard.min.js') }}"></script>
    <script>
        // var win = navigator.platform.indexOf('Win') > -1;
        // if (win && document.querySelector('#sidenav-scrollbar')) {
        //     var options = {
        //         damping: '0.5'
        //     }
        //     Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
        // }
        function remove(event){
            event.preventDefault();
            console.log("here");
            const userId = event.currentTarget.getAttribute('id');
            console.log(userId);
            const confirmation = confirm("Are you sure you want to delete this account?");
            if (confirmation) {
                window.location.href = `https://127.0.0.1:8000/${userId}/delete` ;
                // fetch(`/${userId}/delete`);
            } else {
                console.log("Deletion canceled.");
            }

        }



        document.getElementById('{{ user.id }}').addEventListener('click', remove) ;

    </script>
{%  endblock %}


